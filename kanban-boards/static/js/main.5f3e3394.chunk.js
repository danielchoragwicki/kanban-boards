(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(56),s=a.n(i),o=a(3),c=a(4),d=a(6),l=a(5),u=a(7),m=a(2),p=a(10),h=a(11),b=function(e){var t=e.theme,a=e.handleRadioChange,n=e.currentTheme;return r.a.createElement("label",{title:t,className:"theme-radio ".concat(t.toLowerCase().replace(" ","-"))},r.a.createElement("input",{className:"theme-radio__input",onChange:a,checked:n===t,type:"radio",name:"theme",value:t}),r.a.createElement(p.a,{className:"theme-radio__icon",icon:h.d}))},f={THEMES:["Malibu Beach","New Life","Night Fade","Sunny Morning","Love Kiss"]},v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={currentBoard:{name:"",theme:""},isDisabled:!1},a.handleChange=function(e){a.props.handleInputChange(e)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.props.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.props.handleClick)}},{key:"render",value:function(){var e=this.props,t=e.handleClick,a=e.handleSubmit,n=e.handleRadioChange,i=e.currentBoard,s=e.handleDelete;return r.a.createElement("div",{className:"addboard__overlay"},r.a.createElement("form",{onSubmit:a},r.a.createElement("button",{type:"button",className:"addboard__button",onClick:t},r.a.createElement(p.a,{icon:h.g})),r.a.createElement("div",{className:"addboard__inner"},r.a.createElement("div",{className:"addboard__input-wrapper"},r.a.createElement("input",{type:"text",autoFocus:!0,className:"addboard__input",value:i.name,onChange:this.handleChange})),r.a.createElement("div",{className:"addboard__themes"},f.THEMES.map(function(e){return r.a.createElement(b,{key:e,theme:e,handleRadioChange:n,currentTheme:i.theme})})),r.a.createElement("button",{className:"addboard__submit ".concat(this.state.isDisabled?"addboard__submit--err":""),type:"submit",disabled:this.state.isDisabled&&!1},"Add board"),s&&r.a.createElement("button",{className:"addboard__submit addboard__submit--del",type:"submit",disabled:this.state.isDisabled&&!0},"Remove board"))))}}]),t}(r.a.Component),E=a(123),C=a(40),g=a(17),_=function(){var e=(new Date).valueOf().toString();return Number(e.slice(0,9))},O=function(e,t){return t.find(function(t){return t.id===e})},j=function(e,t){return Object(g.a)(e).concat([t])},y=function(e,t){var a=e.findIndex(function(e){return e.id===t.id});return Object(g.a)(e.slice(0,a)).concat([t],Object(g.a)(e.slice(a+1)))},N=function(e,t){var a=e.findIndex(function(e){return e.id===t});return Object(g.a)(e.slice(0,a)).concat(Object(g.a)(e.slice(a+1)))},k=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),i=Object(C.a)(r,1)[0];return n.splice(a,0,i),n},S=function(e,t,a,n){var r=Array.from(e),i=Array.from(t),s=r.splice(a.index,1),o=Object(C.a)(s,1)[0];i.splice(n.index,0,o);var c={};return c[a.droppableId]=r,c[n.droppableId]=i,c},w=function(e){return{Id:e.id,Name:e.name,Theme:e.theme,KanbanLists:e.lists.map(function(e){return{Id:e.id,Name:e.name,BoardId:e.boardId,Cards:e.items.map(function(e){return{Id:e.id,Name:e.name,KanbanListId:e.KanbanListId,Description:e.desc,StartDate:e.startDate,EndDate:e.endDate}})}})}},L=function(e){return{Id:e.id,Name:e.name,BoardId:e.boardId,Cards:e.items.map(function(e){return{Id:e.id,Name:e.name,KanbanListId:e.KanbanListId,Description:e.desc,StartDate:e.startDate,EndDate:e.endDate}})}},D=function(e){var t={Id:e.id,Name:e.name,KanbanListId:e.KanbanListId,Description:e.desc,StartDate:e.startDate,EndDate:e.endDate};return console.log(t),t},I=function(e){var t=e.id,a=e.name,n=e.lists,i=e.theme,s=n.reduce(function(e,t){return e+=t.items.length},0);return r.a.createElement("div",{className:"board-item"},r.a.createElement(E.a,{to:"/board/".concat(t),className:"board-item__link ".concat(i.toLowerCase().replace(" ","-"))},r.a.createElement("p",{className:"board-item__title"},function(e,t,a){if(e&&t){var n=e.trim();return n.length>t&&(n=(n=n.split("").slice(0,t)).join("")+(a||"")),n}}(a,20,"...")),r.a.createElement("div",{className:"board-stats"},r.a.createElement("p",{className:"board-stats__item"},r.a.createElement("span",{className:"board-stats__text board-stats__text--number"},n.length),r.a.createElement("span",{className:"board-stats__text"},"Lists")),r.a.createElement("p",{className:"board-stats__item"},r.a.createElement("span",{className:"board-stats__text board-stats__text--number"},s),r.a.createElement("span",{className:"board-stats__text"},"Cards")))))},R=function(e){return r.a.createElement("div",{className:"board-item"},r.a.createElement("button",{className:"board-item__link board-item__link--add",onClick:e.handleClick},r.a.createElement("div",{className:"board-item__icon"},"+"),r.a.createElement("p",{className:"board-item__title"},"Add board")))},A=function(e){var t=e.boards,a=e.handleClick;return r.a.createElement("div",{className:"boards-list"},t.map(function(e){return r.a.createElement(I,Object.assign({key:e.id},e))}),r.a.createElement(R,{handleClick:a}))},B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={isInputOpen:!1,errSubmit:!1,currentBoard:{name:"",theme:"New Life"}},a.handleClick=function(e){27===e.keyCode&&a.state.isInputOpen?a.setState(function(e){return{isInputOpen:!e.isInputOpen}}):"click"===e.type&&a.setState(function(e){return{isInputOpen:!e.isInputOpen}})},a.handleInputChange=function(e){var t=e.target.value;a.setState(function(e){return{currentBoard:Object(m.a)({},e.currentBoard,{name:t})}})},a.handleRadioChange=function(e){var t=e.target.value;a.setState(function(e){return{currentBoard:Object(m.a)({},e.currentBoard,{theme:t})}})},a.handleSubmit=function(e){e.preventDefault();var t={id:_(),name:a.state.currentBoard.name,theme:a.state.currentBoard.theme,lists:[]};a.setState({isInputOpen:!1,errSubmit:!1,currentBoard:{name:"",theme:"New Life"}}),a.props.handleCreate(t)},a.handleErrorSubmit=function(e){e.preventDefault(),alert("Empty input. Add some text.")},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currentBoard,a=e.errSubmit,n=e.isInputOpen,i=this.props.boards,s=""===t.name?this.handleErrorSubmit:this.handleSubmit;return r.a.createElement("div",{className:"dashboard"},r.a.createElement(A,{boards:i,handleClick:this.handleClick}),n&&r.a.createElement(v,{errSubmit:a,currentBoard:t,handleClick:this.handleClick,handleInputChange:this.handleInputChange,handleRadioChange:this.handleRadioChange,handleSubmit:s}))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={isOpen:!1},a.thisRef=r.a.createRef(),a.handleClick=function(e){a.thisRef.current.contains(e.target)?a.setState(function(e){return{isOpen:!0}}):a.setState({isOpen:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"button__wrapper",ref:this.thisRef},r.a.createElement("button",{type:"button",className:"button"},"Change Theme"),this.state.isOpen&&r.a.createElement("div",{className:"button__inner button__inner--themes"},f.THEMES.map(function(t){return r.a.createElement(b,{key:t,theme:t,handleRadioChange:e.props.handleRadioChange,currentTheme:e.props.currentTheme})})))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={isAlertOpen:!1},a.thisRef=r.a.createRef(),a.handleClick=function(e){a.thisRef.current.contains(e.target)?a.setState(function(e){return{isAlertOpen:!e.isAlertOpen}}):a.setState({isAlertOpen:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){return r.a.createElement("div",{className:"button__wrapper",ref:this.thisRef},r.a.createElement("button",{type:"button",className:"button".concat("card"===this.props.theme?" button--delete":"")},"Remove ","card"===this.props.theme?"card":"board"),this.state.isAlertOpen&&r.a.createElement("div",{className:"button__inner".concat("card"===this.props.theme?" button__inner--card":"")},r.a.createElement("p",{className:"button__inner-text"},"Are you sure?"),r.a.createElement("button",{onClick:this.props.handleRemove,type:"button",className:"button button--delete"},"Delete")))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={currentBoard:{name:"",theme:""},isInputOpen:!1},a.handleNameChange=function(e){var t=e.target.value;a.setState(function(e){return{currentBoard:Object(m.a)({},e.currentBoard,{name:t})}})},a.handleSubmit=function(e){e.preventDefault();var t=Object(m.a)({},a.state.currentBoard);a.props.handleUpdate(t)},a.handleRadioChange=function(e){var t=e.target.value,n=Object(m.a)({},a.state.currentBoard,{theme:t});a.setState(function(e){return{currentBoard:Object(m.a)({},e.currentBoard,{theme:t})}}),a.props.handleUpdate(n)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({currentBoard:{name:this.props.board.name,theme:this.props.board.theme}})}},{key:"render",value:function(){var e=this.props,t=(e.handleDisplayChange,e.id),a=e.handleRemove;e.display;return r.a.createElement("div",{className:"board-header__wrapper"},r.a.createElement("header",{className:"board-header"},r.a.createElement(E.a,{className:"back-link",to:"/"},r.a.createElement(p.a,{icon:h.b})),r.a.createElement("div",{className:"board-header__inner"},r.a.createElement("h1",{className:"board-header__title"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{className:"board-header__input",value:this.state.currentBoard.name,onChange:this.handleNameChange,onBlur:this.handleSubmit,type:"text"}))),r.a.createElement(T,{currentTheme:this.state.currentBoard.theme,handleRadioChange:this.handleRadioChange}),r.a.createElement(x,{handleRemove:function(){return a(t)}}))))}}]),t}(r.a.Component),K=a(24),M=function(e){var t=e.handleClick;e.disabled;return r.a.createElement("button",{onClick:t,type:"submit",className:"button button--save"},"Save")},P=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.props.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.props.handleClick)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.editCard,n=e.handleRemove,i=e.handleChange,s=e.handleSubmit,o=e.handleClick;return console.log(a),r.a.createElement("div",{className:"card-edit"},r.a.createElement("div",{className:"card-edit__inner"},r.a.createElement("button",{className:"card-edit__exit-button",onClick:o},r.a.createElement(p.a,{icon:h.g})),r.a.createElement("form",{onSubmit:s},r.a.createElement("div",{className:"card-edit__form"},r.a.createElement("input",{className:"card-edit__title",onChange:function(e){return i(e,"name")},value:a.name}),r.a.createElement("textarea",{placeholder:"Descritpion...",className:"card-edit__desc",onChange:function(e){return i(e,"desc")},value:a.desc}),r.a.createElement("div",{className:"card-edit__date"},"Start:",r.a.createElement("input",{type:"date",onChange:function(e){return i(e,"startDate")},value:a.startDate&&a.startDate.slice(0,10)})),r.a.createElement("div",{className:"card-edit__date"},"End:",r.a.createElement("input",{type:"date",onChange:function(e){return i(e,"endDate")},value:a.endDate&&a.endDate.slice(0,10)})),r.a.createElement("div",{className:"card-edit__buttons"},r.a.createElement(M,{handleClick:s}),r.a.createElement(x,{theme:"card",handleRemove:function(){return n(t)}}))))))}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",desc:"",startDate:"",endDate:"",KanbanListId:"",isEditable:!1,editCard:{name:"",desc:"",startDate:"",endDate:""}},a.handleClick=function(e){27===e.keyCode&&a.state.isEditable?a.setState(function(e){return{isEditable:!e.isEditable}}):"click"===e.type&&a.setState(function(e){return{isEditable:!e.isEditable}})},a.handleChange=function(e,t){var n=e.target.value;a.setState(function(e){return{editCard:Object(m.a)({},e.editCard,Object(K.a)({},t,n))}})},a.handleRemove=function(e){a.props.handleCardRemove(e)},a.handleSubmit=function(e){e.preventDefault();var t=Object(m.a)({},a.state.editCard,{KanbanListId:a.props.listid});a.setState(Object(m.a)({},t,{isEditable:!1})),a.props.handleCardEdit(t)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(m.a)({},this.props,{KanbanListId:this.props.listid,editCard:Object(m.a)({},this.props,{KanbanListId:this.props.listid})}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.desc,n=e.startDate,i=e.endDate,s=e.isEditable;return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement("p",{className:"card__title"},t),r.a.createElement("div",{className:"card__info"},a&&r.a.createElement(p.a,{className:"card__icon card__icon--desc",icon:h.a}),(n||i)&&r.a.createElement("p",{className:"card__dates"},r.a.createElement(p.a,{className:"card__icon card__icon--calendar",icon:h.c}),r.a.createElement("span",{className:"card__date"},n?n.slice(0,10):"??"),r.a.createElement("span",null,"-"),r.a.createElement("span",{className:"card__date"},i?i.slice(0,10):"??"))),r.a.createElement("button",{className:"card__edit-button",onClick:this.handleClick},r.a.createElement(p.a,{className:"card__icon",icon:h.f}))),s&&r.a.createElement(P,Object.assign({},this.state,{id:this.props.id,handleClick:this.handleClick,handleRemove:this.handleRemove,handleChange:this.handleChange,handleSubmit:this.handleSubmit})))}}]),t}(n.Component),J=function(e){var t=e.newCard,a=e.handleSubmit,n=e.handleChange;return r.a.createElement("div",{className:"new-card"},r.a.createElement("form",{onSubmit:a},r.a.createElement("input",{onChange:n,className:"new-card__input",placeholder:"+ Add card",value:t.name,type:"text"})))},H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={isAlertOpen:!1},a.thisRef=r.a.createRef(),a.handleClick=function(e){a.thisRef.current.contains(e.target)?a.setState(function(e){return{isAlertOpen:!e.isAlertOpen}}):a.setState({isAlertOpen:!1})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){return r.a.createElement("div",{className:"button__wrapper",ref:this.thisRef},r.a.createElement("button",{type:"button",className:"list__del-button"},r.a.createElement(p.a,{className:"list__icon",icon:h.h})),this.state.isAlertOpen&&r.a.createElement("div",{className:"button__inner".concat((this.props.theme," button__inner--card"))},r.a.createElement("p",{className:"button__inner-text"},"Are you sure?"),r.a.createElement("button",{onClick:this.props.handleRemove,type:"button",className:"button button--delete"},"Delete")))}}]),t}(n.Component),F=a(15),z=(a(67),"http://localhost:56935/api"),Q=function(e){var t=w(e);return fetch("".concat(z,"/boards/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},$=function(e){var t=w(e);return fetch("".concat(z,"/boards/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},q=function(e){return fetch("".concat(z,"/boards/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}})},G=function(e){var t=L(e);return fetch("".concat(z,"/KanbanLists"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},V=function(e){var t=L(e);return fetch("".concat(z,"/KanbanLists/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},X=function(e){return fetch("".concat(z,"/KanbanLists/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}})},Y=function(e){var t=D(e);return fetch("".concat(z,"/Cards"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},Z=function(e){var t=D(e);return fetch("".concat(z,"/Cards/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},ee=function(e){return fetch("".concat(z,"/Cards/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}})},te=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={list:{name:"",boardId:"",items:[]},newCard:{name:"",desc:"",startDate:"",endDate:"",KanbanListId:""}},a.handleChange=function(e){var t=e.target.value;a.setState(function(e){return{list:Object(m.a)({},e.list,{name:t})}})},a.handleCardChange=function(e){var t=e.target.value;a.setState(function(e){return{newCard:Object(m.a)({},e.newCard,{name:t})}})},a.handleCardRemove=function(e){ee(e);var t=N(a.props.items,e),n=Object(m.a)({},a.state.list,{id:a.props.id,items:t});a.setState(function(e){return{list:Object(m.a)({},e.list,{items:t})}}),a.props.handleListChange(n)},a.handleCardEdit=function(e){Z(e);var t=y(a.props.items,e),n=Object(m.a)({},a.state.list,{id:a.props.id,items:t});a.setState(function(e){return{list:Object(m.a)({},e.list,{items:t})}}),a.props.handleListChange(n)},a.handleSubmit=function(e){e.preventDefault();var t=Object(m.a)({},a.state.list,{id:a.props.id,name:a.state.list.name});a.props.handleListChange(t)},a.handleCardSubmit=function(e){e.preventDefault();var t=Object(m.a)({},a.state.newCard,{KanbanListId:a.props.listid,name:a.state.newCard.name});Y(t);var n=j(a.state.list.items,t);console.log(t),console.log(n);var r=Object(m.a)({},a.state.list,{id:a.props.id,items:n});a.setState(function(e){return{list:Object(m.a)({},e.list,{items:n}),newCard:Object(m.a)({},e.newCard,{name:""})}}),a.props.handleListChange(r)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({list:{name:this.props.name,boardId:this.props.board.id,items:this.props.items}})}},{key:"render",value:function(){var e=this;return r.a.createElement(F.c,{droppableId:this.props.id,type:"card"},function(t,a){return r.a.createElement("div",{className:"list".concat(a.isDraggingOver?" list--drag-over":"")},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:"list__header"},r.a.createElement("input",{onChange:e.handleChange,onBlur:e.handleSubmit,className:"list__title",value:e.state.list.name}),r.a.createElement(p.a,{className:"list__icon list__icon--hand",icon:h.e}),r.a.createElement(H,{theme:"list",handleRemove:function(){return e.props.handleRemove(e.props.id)}}))),r.a.createElement("div",{className:"list__cards-wrapper",ref:t.innerRef},e.props.items.map(function(t,a){return r.a.createElement(F.b,{type:"card",key:t.id,draggableId:t.id,index:a},function(a,n){return r.a.createElement("div",Object.assign({className:n.isDragging?"card__wrapper card__wrapper-active":"card__wrapper",ref:a.innerRef},a.draggableProps,a.dragHandleProps,{style:a.draggableProps.style}),r.a.createElement(W,Object.assign({key:t.id},t,{handleCardRemove:e.handleCardRemove,handleCardEdit:e.handleCardEdit,listid:e.props.listid})))})}),t.placeholder,r.a.createElement(J,{newCard:e.state.newCard,handleChange:e.handleCardChange,handleSubmit:e.handleCardSubmit})))})}}]),t}(n.Component),ae=function(e){var t=e.newListName,a=e.handleSubmit,n=e.handleChange;return r.a.createElement("div",{className:"list new-list"},r.a.createElement("form",{onSubmit:a},r.a.createElement("input",{onChange:n,placeholder:"+ Add board",className:"new-list__input",value:t,type:"text"})))},ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={newListName:""},a.handleChange=function(e){a.setState({newListName:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t={boardId:a.props.board.id,name:a.state.newListName,items:[]};G(t),a.setState({newListName:""});var n=j(a.props.lists,t);a.props.handleListsUpdate(n)},a.handleRemove=function(e){X(e);var t=N(a.props.lists,e);a.props.handleListsUpdate(t)},a.handleListChange=function(e){V(e);var t=y(a.props.lists,e);a.props.handleListsUpdate(t)},a.handleListChangeClient=function(e){var t=y(a.props.lists,e);a.props.handleListsUpdate(t)},a.onDragEnd=function(e){var t=e.source,n=e.destination,r=O(t.droppableId,a.props.lists),i=O(e.draggableId,r.items);if(i.KanbanListId=n.droppableId,Z(i),n)if(t.droppableId===a.props.id){var s=k(a.props.lists,t.index,n.index);a.props.handleListsUpdate(s)}else if(t.droppableId===n.droppableId){var o=O(t.droppableId,a.props.lists),c=k(o.items,t.index,n.index),d=Object(m.a)({},o,{items:c}),l=y(a.props.lists,d);a.props.handleListsUpdate(l)}else{var u=O(t.droppableId,a.props.lists),p=O(n.droppableId,a.props.lists),h=S(u.items,p.items,t,n),b=Object(m.a)({},u,{items:h[t.droppableId]}),f=Object(m.a)({},p,{items:h[n.droppableId]}),v=y(a.props.lists,b);a.props.handleListsUpdate(v);var E=y(a.props.lists,f);a.props.handleListsUpdate(E)}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(F.a,{onDragEnd:this.onDragEnd},r.a.createElement("div",{className:"board-lists__wrapper"},r.a.createElement(F.c,{droppableId:this.props.id,direction:"horizontal",type:"list"},function(t,a){return r.a.createElement("div",Object.assign({className:"board-lists",ref:t.innerRef},t.droppableProps),e.props.lists.map(function(t,a){return r.a.createElement(F.b,{key:t.id,draggableId:t.id,index:a,type:"list"},function(a,n){return r.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),r.a.createElement(te,Object.assign({board:e.props.board,handleListChangeClient:e.handleListChangeClient,handleListChange:e.handleListChange,handleRemove:e.handleRemove,key:t.id,listid:t.id},t)))})}),t.placeholder,r.a.createElement(ae,{newListName:e.state.newListName,handleChange:e.handleChange,handleSubmit:e.handleSubmit}))})))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={board:{name:"",theme:"",lists:[]},display:"kanban",newList:""},a.handleUpdate=function(e){var t=Object(m.a)({},a.state.board,{id:a.props.id,name:e.name,theme:e.theme});a.setState(function(t){return{board:Object(m.a)({},t.board,{name:e.name,theme:e.theme})}}),a.props.updatedBoard(t)},a.handleDisplayChange=function(e){a.setState({display:e.target.value})},a.handleAddListChange=function(e){a.setState({newList:e.target.value})},a.handleAddListSubmit=function(e){e.preventDefault();var t={id:_(),name:a.state.newList,items:[]},n=j(a.state.board.lists,t);Object(m.a)({},a.state.board,{lists:n});a.setState(function(e){return{board:Object(m.a)({},e.board,{lists:n}),display:"default",newList:""}})},a.handleListsUpdate=function(e){Object(m.a)({},a.state.board,{lists:e});a.setState(function(t){return{board:Object(m.a)({},t.board,{lists:e})}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({board:this.props.board})}},{key:"render",value:function(){return r.a.createElement("div",{className:"board ".concat(this.state.board.theme.toLowerCase().split(" ").join("-"))},r.a.createElement(U,{id:this.props.id,name:this.state.board.name,handleRemove:this.props.handleRemove,handleDisplayChange:this.handleDisplayChange,board:this.props.board,display:this.state.display,handleUpdate:this.handleUpdate}),r.a.createElement(ne,{id:this.props.id,board:this.props.board,lists:this.state.board.lists,handleListsUpdate:this.handleListsUpdate}),r.a.createElement("div",{className:"theme-background"}))}}]),t}(n.Component),ie=a(125),se=a(126),oe=a(127),ce=a(124),de=(a(117),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={boards:[],isLoading:!0},a.handleCreate=function(e){var t=j(a.state.boards,e);a.setState({boards:t}),Q(e).then(function(){return console.log("Board ".concat(e.name," added"))})},a.handleRemove=function(e){var t=N(a.state.boards,e);a.setState({boards:t}),q(e).then(function(){return console.log("Board with ID ".concat(e," removed"))})},a.updatedBoard=function(e){var t=y(a.state.boards,e);a.setState({boards:t}),$(e).then(function(){return console.log("Board ".concat(e.name," updated"))})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(z,"/boards/")).then(function(e){return e.json()}).then(function(e){return function(e){var t=e.map(function(e){return{id:e.Id,name:e.Name,theme:e.Theme,lists:e.KanbanLists.map(function(t){return{id:t.Id,name:t.Name,boardId:e.Id,items:t.Cards.map(function(e){return{id:e.Id,name:e.Name,KanbanListId:e.KanbanListId,desc:e.Description,startDate:e.StartDate,endDate:e.EndDate}})}})}});return t}(e)}).then(function(t){return e.setState({boards:t,isLoading:!1})})}},{key:"render",value:function(){var e=this;return r.a.createElement(ie.a,{basename:""},r.a.createElement(se.a,null,r.a.createElement(oe.a,{exact:!0,path:"/",render:function(t){return e.state.isLoading?r.a.createElement("div",{className:"loader__wrapper"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",{className:"loader__item"}),r.a.createElement("div",{className:"loader__item"}),r.a.createElement("div",{className:"loader__item"}),r.a.createElement("div",{className:"loader__item"}))):r.a.createElement(B,Object.assign({handleCreate:e.handleCreate,boards:e.state.boards},t))}}),r.a.createElement(oe.a,{path:"/board/:id",render:function(t){var a=O(parseInt(t.match.params.id),e.state.boards);return a?r.a.createElement(re,{handleUpdateElement:e.handleUpdateElement,id:parseInt(t.match.params.id),board:a,handleRemove:e.handleRemove,updatedBoard:e.updatedBoard}):r.a.createElement(ce.a,{to:"/"})}}),r.a.createElement(ce.a,{to:"/"})))}}]),t}(n.Component)),le=(a(120),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ue(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(de,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");le?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ue(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ue(e)})}}()},60:function(e,t,a){e.exports=a(122)}},[[60,2,1]]]);
//# sourceMappingURL=main.5f3e3394.chunk.js.map